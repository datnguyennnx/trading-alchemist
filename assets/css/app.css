/* tailwind.css - Tailwind CSS v4 Optimized CSS-First Setup */

/* Core Import */
@import "tailwindcss";

/* Official Plugins */
@plugin "@tailwindcss/forms";
@plugin "@tailwindcss/typography";
@plugin "@tailwindcss/animate";

/* Theme Variables (Light & Dark) */
@theme root {
  /* Sizing & Radius */
  --radius: 0.3rem;

  /* Palette */
  --background: oklch(1 0 0);
  --foreground: oklch(0.141 0.005 285.823);

  --card: var(--background);
  --card-foreground: var(--foreground);
  --popover: var(--background);
  --popover-foreground: var(--foreground);

  --primary: oklch(0.21 0.006 285.885);
  --primary-foreground: oklch(0.985 0 0);
  --secondary: oklch(0.967 0.001 286.375);
  --secondary-foreground: var(--primary);

  --muted: var(--secondary);
  --muted-foreground: oklch(0.552 0.016 285.938);
  --accent: var(--secondary);
  --accent-foreground: var(--primary);

  --destructive: oklch(0.577 0.245 27.325);
  --destructive-foreground: var(--primary-foreground);

  /* Border & Rings */
  --border: oklch(0.92 0.004 286.32);
  --input: var(--border);
  --ring: oklch(0.705 0.015 286.067);

  /* Charts */
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);

  /* States */
  --success: oklch(0.563 0.191 142.105);
  --success-foreground: var(--primary-foreground);
  --info: oklch(0.584 0.224 231.648);
  --info-foreground: var(--primary-foreground);
  --warning: oklch(0.8 0.199 83.868);
  --warning-foreground: var(--primary-foreground);
  --error: var(--destructive);
  --error-foreground: var(--primary-foreground);

  /* DateTime Picker */
  --dtp-border-radius: 0.375rem;
  --dtp-font-family: sans-serif;
}

@theme .dark {
  /* Invert base & foreground */
  --background: oklch(0.141 0.005 285.823);
  --foreground: oklch(0.985 0 0);

  /* Adjust semantic & accents for dark */
  --card: var(--background);
  --card-foreground: var(--foreground);
  --popover: var(--background);
  --popover-foreground: var(--foreground);

  --primary: oklch(0.92 0.004 286.32);
  --primary-foreground: var(--foreground);
  --secondary: oklch(0.274 0.006 286.033);
  --secondary-foreground: var(--foreground);

  --muted: var(--secondary);
  --muted-foreground: oklch(0.705 0.015 286.067);
  --accent: var(--secondary);
  --accent-foreground: var(--foreground);

  --destructive: oklch(0.704 0.191 22.216);
  --destructive-foreground: var(--foreground);

  --border: oklch(1 0 0 / 10%);
  --input: oklch(1 0 0 / 15%);
  --ring: oklch(0.552 0.016 285.938);
}

/* Base Resets */
@layer base {
  *, ::before, ::after { @apply border-border !important; }
  body { @apply bg-background text-foreground font-sans; }
}

/* Components */
@layer components {
  /* Animations */
  @keyframes appear { from { opacity: 0; transform: scale(0.8); } to { opacity: 1; transform: scale(1); } }
  .animate-appear { animation: appear 0.2s ease-out forwards; }

  /* TradingView Chart Wrapper */
  .tradingview-chart { @apply relative h-full w-full overflow-hidden rounded-[--radius] transition-all duration-200 ease-in-out; }

  /* Price Cards */
  .price-card { @apply rounded-[--radius] border border-border bg-card p-3 transition-all duration-200 ease-in-out; }
  .price-card:hover { @apply shadow-md hover:-translate-y-px; }
  .price-label { @apply mb-1 text-sm text-muted-foreground; }
  .price-value { @apply text-base font-medium; }
  .price-value.up { @apply text-[hsl(var(--success))]; }
  .price-value.down { @apply text-[hsl(var(--error))]; }

  /* DateTime Picker */
  .date_time_picker { @apply relative text-popover-foreground; }
  .date-time-field .input-wrapper {
    @apply cursor-pointer rounded-[--dtp-border-radius] border border-border px-3 py-2 transition-colors duration-200 ease-in-out;
  }
  .date-time-field .display-value { @apply flex items-center justify-between; }
  .calendar-dropdown { @apply absolute z-10 mt-1 hidden w-max rounded-[--dtp-border-radius] border border-border bg-popover p-3 shadow-md; }
  .calendar-dropdown.show { @apply block; }
  .calendar-header { @apply mb-3 flex items-center justify-between; }
  .weekdays { @apply mb-1 grid grid-cols-7 text-center; }
  .weekday { @apply p-1 text-xs font-semibold text-muted-foreground; }
  .days { @apply grid grid-cols-7 gap-1; }
  .day-btn { @apply w-full min-w-[32px] cursor-pointer rounded-[--dtp-border-radius] py-2 text-center text-sm transition-colors; }
  .day-btn:hover:not(:disabled):not(.empty) { @apply bg-accent; }
  .day-btn.today { @apply border-border; }
  .day-btn.selected { @apply border-primary bg-primary text-primary-foreground hover:bg-primary/90; }
  .day-btn:disabled { @apply cursor-not-allowed opacity-50; }

  /* Time Picker */
  .time-picker { @apply mt-3 border-t border-border pt-3; }
  .time-selector { @apply flex items-center justify-center gap-2; }
  .time-unit select {
    @apply h-9 rounded-[--dtp-border-radius] border border-border px-2.5 py-1.5 text-center text-sm appearance-none transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2;
  }
  .time-separator { @apply font-bold text-muted-foreground; }
}
